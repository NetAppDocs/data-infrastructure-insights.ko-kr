---
sidebar: sidebar 
permalink: task_create_monitor.html 
keywords: monitors, alerts, log, metric, system-defined, system, metric, 
summary: 자동화된 경고 및 알림을 통해 인프라 성능, 용량 임계값 및 중요 이벤트를 사전에 추적하기 위한 사용자 지정 메트릭 및 로그 모니터를 만듭니다. 
---
= 모니터로 경고하기
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
인프라 리소스 전반에서 성능 임계값을 추적하고 이벤트와 이상을 기록하도록 모니터를 구성합니다. 노드 쓰기 지연 시간, 스토리지 용량, 애플리케이션 성능 등의 측정 항목에 대한 사용자 정의 알림을 만들고, 이러한 조건이 충족되면 알림을 받습니다.

모니터를 사용하면 스토리지, VM, EC2, 포트와 같은 "인프라" 객체에서 생성된 메트릭과 Kubernetes, ONTAP 고급 메트릭, Telegraf 플러그인에 대해 수집된 "통합" 데이터에 대한 임계값을 설정할 수 있습니다.  이러한 _메트릭_ 모니터는 경고 수준이나 위험 수준 임계값을 넘으면 경고를 보냅니다.

지정된 _로그 이벤트_가 감지되면 경고, 중요 또는 정보 수준의 알림을 트리거하는 모니터를 생성할 수도 있습니다.

Data Infrastructure Insights 다양한 기능을 제공합니다.link:task_system_monitors.html["시스템 정의 모니터"] 또한, 환경에 따라서도 달라집니다.



== 보안 모범 사례

Data Infrastructure Insights 알림은 테넌트의 데이터 포인트와 추세를 강조하도록 설계되었으며, Data Infrastructure Insights 사용하면 알림 수신자로 유효한 이메일 주소를 입력할 수 있습니다.  보안 환경에서 작업하는 경우 알림을 받는 사람이나 알림에 접근할 수 있는 사람이 누구인지 특히 주의하세요.



== 메트릭 모니터인가, 로그 모니터인가?

. Data Infrastructure Insights 메뉴에서 *알림 > 모니터 관리*를 클릭합니다.
+
현재 구성된 모니터를 보여주는 모니터 목록 페이지가 표시됩니다.

. 기존 모니터를 수정하려면 목록에서 모니터 이름을 클릭하세요.
. 모니터를 추가하려면 *+ 모니터*를 클릭하세요.
+
image:Monitor_log_or_metric.png["시스템 또는 로그 모니터를 선택하세요"]

+
새로운 모니터를 추가하면 메트릭 모니터나 로그 모니터를 만들라는 메시지가 표시됩니다.

+
** _Metric_ 모니터는 인프라 또는 성능 관련 트리거에 대한 경고를 모니터링합니다.
** _Log_는 로그 관련 활동에 대한 경고를 모니터링합니다.


+
모니터 유형을 선택하면 모니터 구성 대화 상자가 표시됩니다.  구성은 만드는 모니터 유형에 따라 달라집니다.





=== 메트릭 모니터

. 드롭다운에서 모니터링할 개체 유형과 메트릭을 검색하여 선택합니다.


모니터링할 개체 속성이나 메트릭을 좁히기 위해 필터를 설정할 수 있습니다.

image:MonitorMetricFilter.png["메트릭 필터링"]

통합 데이터(Kubernetes, ONTAP Advanced Data 등)를 사용할 때 메트릭 필터링은 플롯된 데이터 시리즈에서 개별/일치하지 않는 데이터 포인트를 제거하는 반면, 인프라 데이터(스토리지, VM, 포트 등)의 경우 필터는 데이터 시리즈의 집계된 값에 적용되어 차트에서 전체 개체를 제거할 수 있습니다.

메트릭 모니터는 스토리지, 스위치, 호스트, VM 등의 인벤토리 객체와 ONTAP Advanced 또는 Kubernetes 데이터와 같은 통합 메트릭에 적용됩니다. 재고 객체를 모니터링할 때 "그룹화 기준" 방법을 선택할 수 없다는 점에 유의하세요. 그러나 통합 데이터를 모니터링할 때는 그룹화가 허용됩니다.



==== 다중 조건 모니터

두 번째 조건을 추가하여 메트릭 모니터를 더욱 세분화할 수 있습니다. "+보조 메트릭 조건 추가" 프롬프트를 확장하고 추가 조건을 구성하기만 하면 됩니다.

image:multi-condition_monitor_second_condition.png["두 번째 조건을 설정하다"]

두 가지 조건이 모두 충족되면 모니터에서 경고가 표시됩니다.

두 번째 조건은 "AND"로만 설정할 수 있으며, 두 번째 조건 중 하나에 대해서만 알림을 설정할 수 없습니다.



==== 모니터의 조건을 정의합니다.

. 모니터링할 대상과 지표를 선택한 후 경고 수준 및/또는 위험 수준 임계값을 설정합니다.
. 예시에서는 _경고_ 수준에 200을 입력합니다.  이 경고 수준을 나타내는 점선이 예시 그래프에 표시됩니다.
. _Critical_ 수준에 400을 입력합니다.  이 중요 수준을 나타내는 점선이 예제 그래프에 표시됩니다.
+
그래프는 과거 데이터를 표시합니다.  그래프의 경고 및 위험 수준 선은 모니터를 시각적으로 표현한 것이므로, 각 경우에 모니터가 경고를 발생시킬 수 있는 시점을 쉽게 확인할 수 있습니다.

. 발생 간격으로 _15분_ 동안 _계속_을 선택합니다.
+
임계값이 초과되는 순간 경고를 발생시키거나 임계값이 일정 기간 동안 지속적으로 초과될 때까지 기다릴 수 있습니다.  우리의 예에서, 총 IOPS가 경고 또는 위험 수준을 넘어설 때마다 알림을 받고 싶지는 않지만, 모니터링되는 객체가 이러한 수준 중 하나를 최소 15분 동안 지속적으로 초과할 때만 알림을 받고 싶습니다.

+
image:Monitor_metric_conditions.png["모니터의 조건을 정의하세요"]





==== 경고 해결 동작 정의

메트릭 모니터 경고가 해결되는 방식을 선택할 수 있습니다.  두 가지 선택이 제공됩니다.

* 측정항목이 허용 범위로 돌아오면 해결합니다.
* 지정된 시간(1분에서 7일) 동안 지표가 허용 범위 내에 있으면 해결합니다.




=== 로그 모니터

*로그 모니터*를 생성할 때 먼저 사용 가능한 로그 목록에서 모니터링할 로그를 선택합니다.  그런 다음 위와 같이 사용 가능한 속성을 기준으로 필터링할 수 있습니다.  하나 이상의 "그룹화 기준" 속성을 선택할 수도 있습니다.


NOTE: 로그 모니터 필터는 비어 있을 수 없습니다.

image:Monitor_Group_By_Example.png["모니터링할 로그를 선택하고 필터를 설정하고 원하는 경우 방법별로 그룹을 선택합니다."]



==== 알림 동작 정의

위에서 정의한 조건이 한 번(즉, 즉시) 발생할 때 _중요_, _경고_ 또는 _정보_의 심각도 수준으로 경고를 보내거나, 조건이 2회 이상 발생할 때까지 경고를 기다리도록 모니터를 만들 수 있습니다.



==== 경고 해결 동작 정의

로그 모니터 경고가 해결되는 방식을 선택할 수 있습니다.  세 가지 선택 사항이 제공됩니다.

* *즉시 해결*: 추가 작업 없이 경고가 즉시 해결됩니다.
* *시간에 따라 해결*: 지정된 시간이 지나면 경고가 해결됩니다.
* *로그 항목을 기준으로 해결*: 후속 로그 활동이 발생하면 경고가 해결됩니다.  예를 들어, 객체가 "사용 가능"으로 기록되는 경우입니다.


image:Monitor_log_monitor_resolution.png["경고 해결"]



=== 이상 감지 모니터

. 드롭다운에서 모니터링할 개체 유형과 메트릭을 검색하여 선택합니다.


모니터링할 개체 속성이나 메트릭을 좁히기 위해 필터를 설정할 수 있습니다.

image:AnomalyDetectionMonitorMetricChoosing.png["이상 감지를 위한 메트릭 필터링"]



==== 모니터의 조건을 정의합니다.

. 모니터링할 대상과 지표를 선택한 후, 이상이 감지되는 조건을 설정합니다.
+
** 선택한 지표가 예측된 경계보다 *급등*할 때, 경계보다 *급등*할 때, 또는 경계보다 *급등하거나 아래로 떨어질 때* 이상을 감지할지 여부를 선택합니다.
** 감지의 *민감도*를 설정합니다.  *낮음* (감지되는 이상 현상이 적음), *보통*, 또는 *높음* (감지되는 이상 현상이 많음).
** 알림을 *경고* 또는 *중요*로 설정하세요.
** 원하는 경우, 선택한 지표가 설정한 임계값보다 낮을 때 이상 현상을 무시하고 노이즈를 줄이도록 선택할 수 있습니다.




image:AnomalyDetectionMonitorDefineConditions.png["이상 탐지를 트리거하기 위한 조건 정의"]



=== 알림 유형 및 수신자를 선택하세요

_팀 알림 설정_ 섹션에서 이메일이나 웹훅을 통해 팀에 알림을 보낼지 선택할 수 있습니다.

image:Webhook_Choose_Monitor_Notification.png["알림 방법을 선택하세요"]

*이메일로 알림:*

알림 이메일을 받을 수신자를 지정합니다.  원하는 경우 경고나 중요 알림에 대한 다른 수신자를 선택할 수 있습니다.

image:email_monitor_alerts.png["이메일 알림 수신자"]

*웹훅을 통한 알림:*

알림에 대한 웹훅을 지정합니다.  원하는 경우 경고나 중요 알림에 대해 다른 웹훅을 선택할 수 있습니다.

image:Webhook_Monitor_Notifications.png["웹훅 알림"]


NOTE: ONTAP 데이터 수집기 ​​알림은 클러스터/데이터 수집기와 관련된 특정 모니터 알림보다 우선합니다.  데이터 수집기 ​​자체에 대해 설정한 수신자 목록은 데이터 수집기 ​​알림을 받게 됩니다.  활성 데이터 수집기 ​​알림이 없는 경우 모니터에서 생성된 알림이 특정 모니터 수신자에게 전송됩니다.



=== 시정 조치 또는 추가 정보 설정

*알림 설명 추가* 섹션을 작성하여 선택적 설명과 더불어 추가적인 통찰력 및/또는 시정 조치를 추가할 수 있습니다.  설명은 최대 1024자까지 가능하며 알림과 함께 전송됩니다.  통찰력/시정 조치 필드는 최대 67,000자까지 입력할 수 있으며 알림 랜딩 페이지의 요약 섹션에 표시됩니다.

이러한 필드에는 알림을 수정하거나 다른 방식으로 해결하기 위한 메모, 링크 또는 단계를 제공할 수 있습니다.

알림 설명에 매개변수로 모든 개체 속성(예: 저장소 이름)을 추가할 수 있습니다.  예를 들어, "볼륨에 대한 높은 대기 시간: _%%relatedObject.volume.name%%_, 스토리지: _%%relatedObject.storage.name%%_"와 같은 설명에서 볼륨 이름과 스토리지 이름에 대한 매개변수를 설정할 수 있습니다.

image:Monitors_Alert_Description.png["경고 시정 조치 및 설명"]



=== 모니터를 저장하세요

. 원하시면 모니터에 대한 설명을 추가할 수 있습니다.
. 모니터에 의미 있는 이름을 지정하고 *저장*을 클릭합니다.
+
새 모니터가 활성 모니터 목록에 추가되었습니다.





== 모니터 목록

모니터 페이지에는 현재 구성된 모니터가 나열되어 있으며, 다음 내용이 표시됩니다.

* 모니터 이름
* 상태
* 모니터링되는 객체/메트릭
* 모니터의 조건


모니터 오른쪽에 있는 메뉴를 클릭하고 *일시 중지*를 선택하면 개체 유형 모니터링을 일시적으로 중지할 수 있습니다.  모니터링을 다시 시작할 준비가 되면 *다시 시작*을 클릭하세요.

메뉴에서 *복제*를 선택하면 모니터를 복사할 수 있습니다.  그런 다음 새 모니터를 수정하고 개체/측정항목, 필터, 조건, 이메일 수신자 등을 변경할 수 있습니다.

모니터가 더 이상 필요하지 않으면 메뉴에서 *삭제*를 선택하여 삭제할 수 있습니다.



== 모니터 그룹

그룹화를 사용하면 관련 모니터를 보고 관리할 수 있습니다.  예를 들어, 테넌트의 스토리지에 전담된 모니터 그룹을 만들거나, 특정 수신자 목록과 관련된 모니터를 만들 수 있습니다.

image:Monitors_GroupList.png["모니터 그룹화"]

다음 모니터 그룹이 표시됩니다.  그룹에 포함된 모니터의 수는 그룹 이름 옆에 표시됩니다.

* *모든 모니터*는 모든 모니터를 나열합니다.
* *사용자 정의 모니터*는 사용자가 만든 모든 모니터를 나열합니다.
* *일시 중단된 모니터*는 Data Infrastructure Insights 에 의해 일시 중단된 모든 시스템 모니터를 나열합니다.
* Data Infrastructure Insights 또한 하나 이상의 그룹을 나열하는 여러 *시스템 모니터 그룹*을 표시합니다.link:task_system_monitors.html["시스템 정의 모니터"] ONTAP 인프라 및 작업 부하 모니터를 포함합니다.



NOTE: 사용자 정의 모니터는 일시 중지, 재개, 삭제하거나 다른 그룹으로 이동할 수 있습니다.  시스템 정의 모니터는 일시 중지 및 재개가 가능하지만 삭제하거나 이동할 수는 없습니다.



=== 정지형 모니터

이 그룹은 Data Infrastructure Insights 하나 이상의 모니터를 일시 중단한 경우에만 표시됩니다.  과도하거나 지속적인 경고가 발생하는 경우 모니터가 일시 중단될 수 있습니다.  모니터가 사용자 지정 모니터인 경우, 지속적인 경고가 발생하지 않도록 조건을 수정한 후 모니터를 다시 시작합니다.  중단을 유발한 문제가 해결되면 해당 모니터는 '중단된 모니터' 그룹에서 제거됩니다.



=== 시스템 정의 모니터

이러한 그룹은 모니터에 필요한 장치 및/또는 로그 가용성이 환경에 포함되어 있는 한 Data Infrastructure Insights 에서 제공하는 모니터를 표시합니다.

시스템 정의 모니터는 수정하거나 다른 그룹으로 이동하거나 삭제할 수 없습니다.  하지만 시스템 모니터를 복제하고 복제본을 수정하거나 이동할 수는 있습니다.

시스템 모니터에는 ONTAP 인프라(스토리지, 볼륨 등) 또는 워크로드(예: 로그 모니터) 또는 기타 그룹에 대한 모니터가 포함될 수 있습니다.  NetApp 은 고객의 요구 사항과 제품 기능을 지속적으로 평가하고 있으며, 필요에 따라 시스템 모니터와 그룹을 업데이트하거나 추가합니다.



=== 사용자 정의 모니터 그룹

필요에 따라 모니터를 포함할 그룹을 직접 만들 수 있습니다.  예를 들어, 저장소와 관련된 모든 모니터를 그룹으로 묶고 싶을 수 있습니다.

새로운 사용자 정의 모니터 그룹을 만들려면 *"+" 새 모니터 그룹 만들기* 버튼을 클릭하세요.  그룹 이름을 입력하고 *그룹 만들기*를 클릭하세요.  해당 이름으로 빈 그룹이 생성됩니다.

그룹에 모니터를 추가하려면 _모든 모니터_ 그룹(권장)으로 이동하여 다음 중 하나를 수행하세요.

* 단일 모니터를 추가하려면 모니터 오른쪽에 있는 메뉴를 클릭하고 _그룹에 추가_를 선택하세요.  모니터를 추가할 그룹을 선택하세요.
* 모니터 이름을 클릭하여 모니터의 편집 보기를 열고 _모니터 그룹에 연결_ 섹션에서 그룹을 선택합니다.
+
image:Monitors_AssociateToGroup.png["그룹에 연결"]



그룹을 클릭하고 메뉴에서 _그룹에서 제거_를 선택하여 모니터를 제거합니다.  _모든 모니터_ 또는 _사용자 지정 모니터_ 그룹에서 모니터를 제거할 수 없습니다.  이러한 그룹에서 모니터를 삭제하려면 모니터 자체를 삭제해야 합니다.


NOTE: 그룹에서 모니터를 제거해 Data Infrastructure Insights 에서 해당 모니터가 삭제되지는 않습니다.  모니터를 완전히 제거하려면 모니터를 선택하고 _삭제_를 클릭하세요.  이렇게 하면 해당 항목이 속해 있던 그룹에서도 제거되고 더 이상 모든 사용자가 사용할 수 없게 됩니다.

같은 방식으로 _그룹으로 이동_을 선택하여 모니터를 다른 그룹으로 이동할 수도 있습니다.

그룹의 모든 모니터를 한꺼번에 일시 중지하거나 다시 시작하려면 해당 그룹의 메뉴를 선택하고 _일시 중지_ 또는 _다시 시작_을 클릭하세요.

동일한 메뉴를 사용하여 그룹의 이름을 바꾸거나 삭제합니다.  그룹을 삭제해도 Data Infrastructure Insights 에서 모니터는 삭제되지 않습니다. _모든 모니터_에서 계속 사용할 수 있습니다.

image:Monitors_PauseGroup.png["그룹 일시 중지"]



== 시스템 정의 모니터

Data Infrastructure Insights 에는 메트릭과 로그 모두에 대한 여러 시스템 정의 모니터가 포함되어 있습니다.  사용 가능한 시스템 모니터는 테넌트에 있는 데이터 수집기에 따라 달라집니다.  따라서 데이터 수집기가 추가되거나 구성이 변경됨에 따라 Data Infrastructure Insights 에서 사용할 수 있는 모니터가 변경될 수 있습니다.

보기link:task_system_monitors.html["시스템 정의 모니터"] Data Infrastructure Insights 에 포함된 모니터에 대한 설명은 페이지를 참조하세요.



=== 추가 정보

* link:task_view_and_manage_alerts.html["알림 보기 및 해제"]

