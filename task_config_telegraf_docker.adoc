---
sidebar: sidebar 
permalink: task_config_telegraf_docker.html 
keywords: telegraf, installation, install, docker 
summary: Docker 데이터 수집기 구성 
---
= Docker 데이터 수집기
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Data Infrastructure Insights 이 데이터 수집기를 사용하여 Docker에서 지표를 수집합니다.



== 설치

. *관찰성 > 수집기*에서 *+데이터 수집기*를 클릭합니다.  Docker를 선택하세요.
+
수집을 위해 에이전트를 구성하지 않은 경우 다음 메시지가 표시됩니다.link:task_config_telegraf_agent.html["에이전트를 설치하다"] 세입자에 대한.

+
에이전트가 이미 구성되어 있는 경우 적절한 운영 체제나 플랫폼을 선택하고 *계속*을 클릭합니다.

. Docker 구성 화면의 지침에 따라 데이터 수집기를 구성합니다.  지침은 데이터 수집에 사용하는 운영 체제나 플랫폼의 유형에 따라 다릅니다.


image:DockerDCConfigLinux.png["Docker 구성"]



== 설정

Docker용 Telegraf 입력 플러그인은 지정된 UNIX 소켓이나 TCP 엔드포인트를 통해 메트릭을 수집합니다.



=== 호환성

구성은 Docker 버전 1.12.6을 기준으로 개발되었습니다.



=== 설정하기



=== UNIX 소켓을 통해 Docker에 액세스하기

Telegraf 에이전트가 베어메탈에서 실행 중인 경우 다음을 실행하여 docker Unix 그룹에 telegraf Unix 사용자를 추가합니다.

 sudo usermod -aG docker telegraf
Telegraf 에이전트가 Kubernetes Pod 내에서 실행되는 경우, 소켓을 볼륨으로 Pod에 매핑하여 Docker Unix 소켓을 노출한 다음 해당 볼륨을 /var/run/docker.sock에 마운트합니다.  예를 들어, PodSpec에 다음을 추가합니다.

[listing]
----
volumes:
...
- name: docker-sock
hostPath:
path: /var/run/docker.sock
type: File
----
그런 다음 컨테이너에 다음을 추가합니다.

[listing]
----
volumeMounts:
...
- name: docker-sock
mountPath: /var/run/docker.sock
----
Kubernetes 플랫폼에 제공된 Data Infrastructure Insights 설치 프로그램은 이 매핑을 자동으로 처리합니다.



=== TCP 엔드포인트를 통해 Docker에 액세스

기본적으로 Docker는 암호화되지 않은 액세스에는 포트 2375를 사용하고 암호화된 액세스에는 포트 2376을 사용합니다.



== 객체 및 카운터

다음 객체와 카운터가 수집됩니다.

[cols="<.<,<.<,<.<,<.<"]
|===
| 물체: | 식별자: | 속성: | 데이터 포인트: 


| 도커 엔진 | 네임스페이스 Docker 엔진 | 노드 이름 노드 IP 노드 UUID 노드 OS Kubernetes 클러스터 Docker 버전 단위 | 메모리 컨테이너 컨테이너 일시 중지된 컨테이너 실행 중인 컨테이너 중지된 CPU Go 루틴 이미지 리스너 사용된 이벤트 파일 설명자 사용 가능한 데이터 데이터 총 사용된 데이터 메타데이터 사용 가능한 메타데이터 총 사용된 메타데이터 풀 블록 크기 


| 도커 컨테이너 | 네임스페이스 컨테이너 이름 Docker 엔진 | Kubernetes 컨테이너 해시 Kubernetes 컨테이너 포트 Kubernetes 컨테이너 재시작 횟수 Kubernetes 컨테이너 종료 메시지 경로 Kubernetes 컨테이너 종료 메시지 정책 Kubernetes Pod 종료 유예 기간 컨테이너 이미지 컨테이너 상태 컨테이너 버전 노드 이름 Kubernetes 컨테이너 로그 경로 Kubernetes 컨테이너 이름 Kubernetes Docker 유형 Kubernetes Pod 이름 Kubernetes Pod 네임스페이스 Kubernetes Pod UID Kubernetes Sandbox ID 노드 IP 노드 UUID Docker 버전 Kubernetes IO 구성 확인됨 Kubernetes IO 구성 소스 OpenShift IO SCC Kubernetes 설명 Kubernetes 표시 이름 OpenShift 태그 Kompose 서비스 Pod 템플릿 해시 컨트롤러 개정판 해시 Pod 템플릿 생성 라이선스 스키마 빌드 날짜 스키마 라이선스 스키마 이름 스키마 URL 스키마 VCS URL 스키마 공급업체 스키마 버전 스키마 스키마 버전 유지 관리자 고객 Pod Kubernetes StatefulSet Pod 이름 테넌트 웹 콘솔 아키텍처 권한 소스 URL 빌드 날짜 RH 빌드 호스트 RH 구성 요소 배포 범위 설치 릴리스 실행 요약 제거 VCS 참조 VCS 유형 공급업체 버전 상태 컨테이너 ID | 메모리 활성 익명 메모리 활성 파일 메모리 캐시 메모리 계층적 제한 메모리 비활성 익명 메모리 비활성 파일 메모리 제한 메모리 매핑된 파일 메모리 최대 사용량 메모리 페이지 오류 메모리 페이지 주요 오류 메모리 페이지 인 메모리 페이지 아웃 메모리 상주 집합 크기 메모리 상주 집합 크기 초대형 메모리 총 활성 익명 메모리 총 활성 파일 메모리 총 캐시 메모리 총 비활성 익명 메모리 총 비활성 파일 메모리 총 매핑된 파일 메모리 총 페이지 오류 메모리 총 페이지 주요 오류 메모리 총 페이지 인 메모리 총 페이지 아웃 메모리 총 상주 집합 크기 메모리 총 상주 집합 크기 초대형 메모리 총 제거 불가 메모리 제거 불가 메모리 사용량 메모리 사용량 백분율 종료 코드 OOM 종료 PID 시작 실패 연속 


| Docker 컨테이너 블록 IO | 네임스페이스 컨테이너 이름 장치 Docker 엔진 | Kubernetes 컨테이너 해시 Kubernetes 컨테이너 포트 Kubernetes 컨테이너 재시작 횟수 Kubernetes 컨테이너 종료 메시지 경로 Kubernetes 컨테이너 종료 메시지 정책 Kubernetes Pod 종료 유예 기간 컨테이너 이미지 컨테이너 상태 컨테이너 버전 노드 이름 Kubernetes 컨테이너 로그 경로 Kubernetes 컨테이너 이름 Kubernetes Docker 유형 Kubernetes Pod 이름 Kubernetes Pod 네임스페이스 Kubernetes Pod UID Kubernetes Sandbox ID 노드 IP 노드 UUID Docker 버전 Kubernetes 구성 확인 Kubernetes 구성 소스 OpenShift SCC Kubernetes 설명 Kubernetes 표시 이름 OpenShift 태그 스키마 스키마 버전 Pod 템플릿 해시 컨트롤러 개정 해시 Pod 템플릿 생성 Kompose 서비스 스키마 빌드 날짜 스키마 라이선스 스키마 이름 스키마 공급업체 고객 Pod Kubernetes StatefulSet Pod 이름 테넌트 웹 콘솔 빌드 날짜 라이선스 공급업체 아키텍처 권한 소스 URL RH 빌드 호스트 RH 구성 요소 배포 범위 설치 유지 관리자 릴리스 실행 요약 제거 VCS 참조 VCS 유형 버전 스키마 URL 스키마 VCS URL 스키마 버전 컨테이너 ID | IO 서비스 바이트 재귀적 비동기 IO 서비스 바이트 재귀적 읽기 IO 서비스 바이트 재귀적 동기 IO 서비스 바이트 재귀적 총 IO 서비스 바이트 재귀적 쓰기 IO 서비스 재귀적 비동기 IO 서비스 재귀적 읽기 IO 서비스 재귀적 동기 IO 서비스 재귀적 총 IO 서비스 재귀적 쓰기 


| Docker 컨테이너 네트워크 | 네임스페이스 컨테이너 이름 네트워크 Docker 엔진 | 컨테이너 이미지 컨테이너 상태 컨테이너 버전 노드 이름 노드 IP 노드 UUID 노드 OS K8s 클러스터 Docker 버전 컨테이너 ID | RX 삭제 RX 바이트 RX 오류 RX 패킷 TX 삭제 TX 바이트 TX 오류 TX 패킷 


| Docker 컨테이너 CPU | 네임스페이스 컨테이너 이름 CPU Docker 엔진 | Kubernetes 컨테이너 해시 Kubernetes 컨테이너 포트 Kubernetes 컨테이너 재시작 횟수 Kubernetes 컨테이너 종료 메시지 경로 Kubernetes 컨테이너 종료 메시지 정책 Kubernetes Pod 종료 유예 기간 Kubernetes 구성 확인됨 Kubernetes 구성 소스 OpenShift SCC 컨테이너 이미지 컨테이너 상태 컨테이너 버전 노드 이름 Kubernetes 컨테이너 로그 경로 Kubernetes 컨테이너 이름 Kubernetes Docker 유형 Kubernetes Pod 이름 Kubernetes Pod 네임스페이스 Kubernetes Pod UID Kubernetes Sandbox ID 노드 IP 노드 UUID 노드 OS Kubernetes 클러스터 Docker 버전 Kubernetes 설명 Kubernetes 표시 이름 OpenShift 태그 스키마 버전 Pod 템플릿 해시 컨트롤러 개정판 해시 Pod 템플릿 생성 Kompose 서비스 스키마 빌드 날짜 스키마 라이선스 스키마 이름 스키마 공급업체 고객 Pod Kubernetes StatefulSet Pod 이름 테넌트 웹 콘솔 빌드 날짜 라이선스 공급업체 아키텍처 권한 소스 URL RH 빌드 호스트 RH 구성 요소 배포 범위 설치 유지 관리자 릴리스 실행 요약 제거 VCS 참조 VCS 유형 버전 스키마 URL 스키마 VCS URL 스키마 버전 컨테이너 ID | 제한 기간 제한 제한 기간 제한 제한 시간 커널 모드 사용량 사용자 모드 사용량 사용량 백분율 시스템 사용량 총계 
|===


== 문제 해결

[cols="2*"]
|===
| 문제: | 다음을 시도해 보세요: 


| 구성 페이지의 지침을 따른 후에도 Data Infrastructure Insights 에서 Docker 메트릭이 보이지 않습니다. | Telegraf 에이전트 로그에서 다음 오류가 보고되는지 확인하세요: E!  플러그인 [inputs.docker]에서 오류가 발생했습니다. Docker 데몬 소켓에 연결하려고 하는 동안 권한이 거부되었습니다. 이 오류가 발생한 경우 위에 지정된 대로 Telegraf 에이전트가 Docker Unix 소켓에 액세스할 수 있도록 필요한 조치를 취하세요. 
|===
추가 정보는 다음에서 찾을 수 있습니다.link:concept_requesting_support.html["지원하다"] 페이지.
