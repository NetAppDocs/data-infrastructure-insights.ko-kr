---
sidebar: sidebar 
permalink: ws_notifications_using_webhooks.html 
keywords: alert, webhook, notification 
summary: 워크로드 보안 경고 알림을 위한 웹훅을 만듭니다. 
---
= 웹후크를 사용한 워크로드 보안 알림
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
웹후크를 사용하면 사용자는 사용자 정의된 웹후크 채널을 사용하여 다양한 애플리케이션에 중요하거나 경고 알림 메시지를 보낼 수 있습니다.

Slack, PagerDuty, Teams, Discord 등 많은 상업용 애플리케이션은 표준 입력 인터페이스로 웹훅을 지원합니다.  Workload Security는 일반적이고 사용자 정의 가능한 웹훅 채널을 지원함으로써 이러한 다양한 전달 채널을 지원할 수 있습니다.  웹후크 구성에 대한 정보는 해당 애플리케이션 웹사이트에서 확인할 수 있습니다.  예를 들어 Slack은 다음을 제공합니다.link:https://api.slack.com/messaging/webhooks["이 유용한 가이드"] .

여러 개의 웹훅 채널을 만들 수 있으며, 각 채널은 다른 목적, 별도의 애플리케이션, 다른 수신자 등을 대상으로 합니다.

웹훅 채널 인스턴스는 다음 요소로 구성됩니다.

|===
| 이름 | 설명 


| URL | URL 매개변수와 함께 http:// 또는 https:// 접두사를 포함한 웹훅 대상 URL 


| 방법 | GET/POST - 기본값은 POST입니다. 


| 사용자 정의 헤더 | 여기에 사용자 정의 헤더를 지정하세요 


| 메시지 본문 | 여기에 메시지 본문을 입력하세요 


| 기본 알림 매개변수 | 웹훅의 기본 매개변수를 나열합니다. 


| 사용자 정의 매개변수 및 비밀 | 사용자 정의 매개변수 및 비밀을 사용하면 비밀번호와 같은 고유한 매개변수 및 보안 요소를 추가할 수 있습니다. 
|===


== 웹훅 만들기

워크로드 보안 웹훅을 생성하려면 관리 > 알림으로 이동하여 "워크로드 보안 웹훅" 탭을 선택하세요.  다음 이미지는 Slack 웹훅 생성 화면의 샘플을 보여줍니다.

참고: Workload Security Webhook을 생성하고 관리하려면 사용자는 Workload Security _Admin_이어야 합니다.

image:ws_webhook_slack_example.png["워크로드 보안을 위한 웹훅 슬랙 예제, 너비=500"]

* 각 필드에 적절한 정보를 입력하고 "저장"을 클릭하세요.
* "웹훅 테스트" 버튼을 클릭하여 연결을 테스트할 수도 있습니다.  이렇게 하면 선택된 방법에 따라 정의된 URL로 "메시지 본문"(대체 없음)이 전송됩니다.
* SWS 웹훅은 여러 개의 기본 매개변수로 구성됩니다.  또한, 사용자 정의 매개변수나 비밀번호를 직접 만들 수도 있습니다.




== 매개변수: 매개변수란 무엇이고 어떻게 사용하나요?

알림 매개변수는 알림마다 채워지는 동적 값입니다.  예를 들어, _%%severity%%_ 매개변수는 경고의 심각도 유형으로 대체됩니다.

"웹후크 테스트" 버튼을 클릭해도 대체가 수행되지 않는다는 점에 유의하세요. 테스트는 매개변수의 플레이스홀더(_%%<param-name>%%_)를 보여주는 페이로드를 전송하지만 이를 데이터로 바꾸지는 않습니다.



=== 사용자 정의 매개변수 및 비밀

이 섹션에서는 원하는 사용자 정의 매개변수 및/또는 비밀번호를 추가할 수 있습니다.  사용자 정의 매개변수나 비밀번호는 URL이나 메시지 본문에 포함될 수 있습니다.  비밀을 사용하면 사용자가 비밀번호, API 키 등과 같은 안전한 사용자 정의 매개변수를 구성할 수 있습니다.

다음 샘플 이미지는 사용자 정의 매개변수가 웹훅 생성에 어떻게 사용되는지 보여줍니다.

image:ws_webhook_parameters_example.png["매개변수가 있는 워크로드 보안 웹훅, 너비=800"]



== 워크로드 보안 웹훅 목록 페이지

웹후크 목록 페이지에는 이름, 생성자, 생성일, 상태, 보안 및 마지막 보고 필드가 표시됩니다.  참고: '상태' 열의 값은 마지막 웹훅 트리거 결과에 따라 계속 변경됩니다.  다음은 상태 결과의 예입니다.

|===


| 상태 | 설명 


| OK | 알림이 성공적으로 전송되었습니다. 


| 403 | 금지됨. 


| 404 | URL을 찾을 수 없습니다. 


| 400  a| 
잘못된 요청입니다.  메시지 본문에 다음과 같은 오류가 있는 경우 이 상태가 표시될 수 있습니다.

* 형식이 잘못된 JSON입니다.
* 예약된 키에 잘못된 값을 제공했습니다.  예를 들어, PagerDuty는 "심각도"에 대해 중요/경고/오류/정보만 허용합니다.  다른 결과는 400 상태를 나타낼 수 있습니다.
* 애플리케이션별 검증 오류.  예를 들어, Slack은 섹션 내에 최대 10개의 필드를 허용합니다.  10개 이상을 포함하면 400 상태가 될 수 있습니다.




| 410 | 더 이상 리소스를 사용할 수 없습니다. 
|===
"마지막 보고" 열은 웹훅이 마지막으로 트리거된 시간을 나타냅니다.

웹후크 목록 페이지에서 사용자는 웹후크를 편집/복제/삭제할 수도 있습니다.



== 알림 정책에서 Webhook 알림 구성

알림 정책에 웹훅 알림을 추가하려면 -워크로드 보안 > 정책-으로 이동하여 기존 정책을 선택하거나 새 정책을 추가합니다.  _작업_ 섹션 > _웹훅 알림_ 드롭다운에서 필요한 웹훅을 선택합니다.

image:ws_edit_attack_policy.png["웹후크 드롭다운을 보여주는 공격 정책 편집 대화 상자, 너비=500"]

웹훅 알림은 정책에 연결됩니다.  공격(RW/DD/WARN)이 발생하면 구성된 작업(스냅샷 촬영/사용자 차단)이 수행되고 관련 웹훅 알림이 트리거됩니다.

참고: 이메일 알림은 정책과 무관하며 평소와 같이 트리거됩니다.

* 정책이 일시 중지되면 웹후크 알림이 트리거되지 않습니다.
* 하나의 정책에 여러 개의 웹훅을 첨부할 수 있지만 정책에 5개 이상의 웹훅을 첨부하지 않는 것이 좋습니다.




=== 워크로드 보안 웹훅 예제

웹후크link:ws_webhook_example_slack.html["느슨하게"]

웹후크link:ws_webhook_example_pagerduty.html["페이저듀티"] 웹후크link:ws_webhook_example_teams.html["팀"] 웹후크link:ws_webhook_example_discord.html["불화"]
