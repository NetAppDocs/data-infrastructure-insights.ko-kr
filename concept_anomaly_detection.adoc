---
sidebar: sidebar 
permalink: concept_anomaly_detection.html 
keywords: Anomalies, anomaly, patterns, monitor, alert 
summary: 이상 현상에 대한 모니터링 지표 
---
= 이상 감지 모니터
:hardbreaks:
:allow-uri-read: 
:nofooter: 


[role="lead"]
이상 감지 기능은 테넌트의 데이터 패턴에서 예상치 못한 변경 사항에 대한 통찰력을 제공합니다.  이상 현상은 객체의 동작 패턴이 바뀔 때 발생합니다. 예를 들어, 객체가 수요일의 특정 시간에 특정 수준의 지연 시간을 경험하지만, 다음 수요일에 그 수준을 넘는 지연 시간이 급증하는 경우, 이러한 급증은 이상 현상으로 간주됩니다.  Data Infrastructure Insights 사용하면 이러한 이상 현상이 발생할 때 경고하는 모니터를 만들 수 있습니다.

이상 감지는 반복적이고 예측 가능한 패턴을 나타내는 객체 메트릭에 적합합니다.  이러한 개체 지표가 예상 수준보다 높아지거나 낮아지면 Data Infrastructure Insights 알림을 생성하여 신속하게 조사할 수 있습니다.

image:anomaly_detection_expert_view.png["감지된 이상을 보여주는 그래프"]



== 이상 감지란 무엇인가요?

이상 현상은 지표의 평균값이 지난 몇 주간의 가중 평균에서 표준 편차 수만큼 떨어져 있을 때 발생하며, 최근 몇 주의 가중치가 이전 주보다 더 높습니다.  Data Infrastructure Insights 데이터를 모니터링하고 이상이 감지되면 경고하는 기능을 제공합니다.  감지의 "민감도" 수준을 설정할 수 있습니다.  예를 들어, 평균값이 평균값으로부터 표준편차가 적을수록 민감도가 높아져 더 많은 경고가 생성됩니다.  반대로, 민감도가 낮으면 평균으로부터 표준 편차가 더 크고 경고도 더 적습니다.



=== 이상 감지 모니터링은 임계값 모니터링과 다릅니다.

* *임계값 기반 모니터링*은 특정 지표에 대한 사전 정의된 임계값이 있는 경우 작동합니다.  다시 말해, 무엇이 기대되는지(즉, 정상적인 범위 내에서) 명확하게 이해하고 있을 때입니다.


image:MetricMonitor_blurb.png["측정 모니터는 작동 범위를 알고 있는 경우에 사용됩니다."]

* *이상 감지 모니터링*은 머신 러닝 알고리즘을 사용하여 "정상"의 정의가 명확하지 않을 때 표준에서 벗어난 이상치를 식별합니다.


image:ADMonitor_blurb.png["이상 감지 모니터는 급증이나 감소를 알고 싶을 때 사용됩니다."]



== 언제 이상 감지가 필요할까요?

이상 감지 모니터링은 다음을 포함한 다양한 상황에 대해 유용한 알림을 제공할 수 있습니다.

* _정상_의 정의가 불분명한 경우.  예를 들어, SAN 오류율은 포트에 따라 다르게 나타날 수 있습니다.  하나의 오류에 대한 경고는 시끄럽고 불필요하지만, 갑작스럽거나 크게 증가하면 광범위한 문제를 나타낼 수 있습니다.
* 시간이 지남에 따라 변화가 있는 곳.  계절성을 보이는 업무량(즉, 특정 시간대에 바쁘거나 한산함).  여기에는 배치 중단을 나타낼 수 있는 예상치 못한 조용한 기간이 포함될 수 있습니다.
* 수동으로 임계값을 정의하고 조정하는 것이 불가능한 대량의 데이터로 작업하는 경우.  예를 들어, 작업 부하가 다양한 다수의 호스트 및/또는 볼륨을 보유한 테넌트입니다.  각각의 SLA는 다를 수 있으므로 기준을 초과하는 SLA를 이해하는 것이 중요합니다.




== 이상 감지 모니터 생성

이상 현상에 대한 경고를 받으려면 *관찰 가능성 > 경고 > +모니터*로 이동하여 모니터를 만듭니다.  모니터 유형으로 _Anomaly Detection Monitor_를 선택합니다.

image:AnomalyDetectionMonitorChoice.png["모니터 생성 시 이상 감지 선택, 너비=480"]

모니터링하려는 개체와 측정항목을 선택하세요.  다른 유형의 모니터와 마찬가지로 필터와 그룹화를 설정할 수 있습니다.

다음으로, 모니터의 조건을 설정합니다.

* 선택한 지표가 예측된 경계보다 _급등_하거나, _미만_으로 떨어지거나, 둘 다일 때 알림을 트리거합니다.
* 민감도를 _중간_, _낮음_ (감지되는 이상이 적음), _높음_ (감지되는 이상이 많음)으로 설정합니다.
* 경보 수준이 _중요_인지 _경고_인지 확인합니다.
* 선택적으로, 이상 현상이 무시되는 값을 설정합니다.  이렇게 하면 소음을 줄이는 데 도움이 될 수 있습니다.  이 값은 샘플 그래프에서 점선으로 표시됩니다.


image:AnomalyDetectionMonitorConditions.png["이상 감지 모니터에 대한 조건 설정"]

마지막으로, 알림 전달 방식(이메일, 웹훅 또는 둘 다)을 구성하고, 모니터에 선택적 설명이나 시정 조치를 제공하고, 원하는 경우 모니터를 사용자 정의 그룹에 추가할 수 있습니다.

의미 있는 이름으로 모니터를 저장하면 완료됩니다.

모니터는 생성 시 이전 주의 데이터를 분석하여 초기 기준을 설정합니다.  시간이 지나고 더 많은 기록이 생성될수록 이상 감지는 더욱 정확해집니다.


NOTE: 모니터가 생성되면 DII는 이전 주에 대한 기존 데이터를 살펴보고 상당한 데이터 급증이나 감소가 발생하는지 확인합니다. 이는 이상 현상으로 간주됩니다.  모니터를 만든 후 첫 주(학습 단계)에는 알림의 "노이즈"가 증가할 가능성이 있습니다.  이러한 노이즈를 완화하기 위해 30분 이상 지속되는 급증이나 감소만 이상 현상으로 간주하여 경고를 생성합니다.  이후 주에 더 많은 데이터가 분석됨에 따라 노이즈는 일반적으로 줄어들고, 상당한 기간 동안 지속되는 급증이나 감소는 이상 현상으로 간주됩니다.



== 이상 현상 보기

알림 랜딩 페이지에서 이상 징후가 감지되면 알림이 발생하며, 예측 범위를 벗어나 지표가 급증한 시점부터 예측 범위 내로 돌아온 시점까지의 구간이 차트에 강조 표시됩니다.

image:Anomaly_Detection_Chart_Example_Expert_View.png["이상 현상이 발생한 시간을 보여주는 차트"]

알림 랜딩 페이지에서 이상 차트를 보는 동안 다음 옵션을 선택할 수 있습니다.

* 주간 추세: 이전 주 같은 시간, 같은 요일의 값을 최대 5주 전까지 비교합니다.
* 전체 이상 경계: 기본적으로 그래프는 메트릭 값에 초점을 맞춰 메트릭 동작을 더 잘 분석할 수 있도록 합니다.  전체 이상 범위(최대값 등)를 표시하도록 선택합니다.


랜딩 페이지의 성과 섹션에서 해당 이상 현상에 영향을 미친 객체를 선택하여 해당 객체를 볼 수도 있습니다.  차트는 선택된 객체의 동작을 보여줍니다.

image:Anomaly_Detection_Contributing_Objects.png["이상 현상에 기여하는 객체 차트화"]
